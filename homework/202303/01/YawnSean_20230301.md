### 可迭代对象与迭代器

- 可迭代的对象：使用 `iter` 内置函数可以获取迭代器的对象，如果对象实现了 `__iter__` 方法就是可迭代的，同时，序列也可以迭代，因为其实现了 `__getitem__` 。

- 如果没有 `for` 语句，可以使用 `while` 循环模拟，不断调用 `next` 捕捉 `StopIteration` 报错，并及时删去迭代器。

- `__next__` 返回下一个可用元素，`__iter__` 返回 `self` 一遍再其他使用可迭代对象的地方使用迭代器。

- `abc.Iterator` 中定义了 `__next__` 抽象方法，同时从 `Iterable` 类中继承了 `__iter__` 抽象方法。

- 检查是否为迭代器的最好方式是调用 `isinstance(x, abc.Iterator)`，因其有 `__subclasshook__` 方法，即使不是真实子类或虚拟子类，也可以这么检查。

- 只有调用 `next` 捕获异常才能确认有无遗留元素，也没有办法还原迭代器，只能新建 `iter(...)` 传入可迭代对象（不是迭代器）。