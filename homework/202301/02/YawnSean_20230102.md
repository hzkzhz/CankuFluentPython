### 双模式 $API$

- 同时支持字符串或字节序列作为参数，并根据类型展现不同行为。`re` 与 `os` 中都有这样的函数。

- 正则表达式：使用字节序列的情况下 `\d`, `\w` 都只能匹配 $ASCII$ 字符，字符串模式下就可以匹配其他 $Unicode$ 数字或字母。正则表达式有 `re.ASCII` 标志可以只匹配 $ASCII$ 字符。

- `os` 函数中字符串与字节序列：内核不理解 $Unicode$ 因此文件名中使用字节序列是无效的，无法解码成字符串。而 `os` 模块中所有函数、文件名或路径名参数都可以使用字符串或者字节序列，如果遇到字符串参数调用会自动编码（`sys.
getfilesystemencoding()`）而操作系统会使用相同的编解码器解码，方便处理任何文件名或路径名。

- 如果需要处理无法自动处理的文件名可以将字节序列参数传入函数。

- $Unix$ 中错误处理使用 `surrogateescape`，而 $Windows$ 中使用 `strict`。