#### 线程和协程的对比

- 可以不通过线程来实现并发行为。

- Python 没有终止线程的 API，想要关闭线程，必须给线程发送消息。可以使用类的属性进行线程的控制。

- `@asyncio.coroutine` 装饰器可以把协程凸显出来，方便调试；如果没有产出就被回收了也可以发出警告。

- 线程的问题：调度程序任何时候都能终端线程，需要记住保留锁，保护程序的重要部分，防止多步操作在执行过程中终端，防止处于无效状态。

- 写成可以做好全方位保护，必须显示产出才能让余下部分运行。无需保留锁，可以同步操作，任意时刻只有一个写成运行。因此，可以很安全地取消协程。