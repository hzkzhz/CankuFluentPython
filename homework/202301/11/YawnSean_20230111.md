### 装饰器改进“策略”模式

- 可以通过装饰器对函数进行标注，通过标记进行调取。

- 一般而言装饰器回定义内部函数将其返回，使用内部函数的代码几乎都需要依赖闭包进行。

### Python 的变量作用域

- $Python$ 编译函数定义体的时候会判断是否为局部变量，而不是到赋值的时候再判断。$Python$ 不要求声明变量，但假定函数定义体中赋值的变量是局部变量，否则需要使用 `global`, `nonlocal`。

### 闭包

- 延申了作用域的函数：函数定义体中应用，但是不在定义体中定义的非全局变量。关键：访问定义体外定义的非全局变量。

- 自由变量：未在本地作用域中绑定的变量。绑定在返回函数的 `__closure__` 属性中，各个元素对应 `__code__.co_freevars` 中的一个名称，为 `cell` 对象，有 `cell_contents` 属性。

- 闭包是一种函数，其保留定义函数时存在的自由变量的绑定，这样即使定义作用域不可用，仍能使用绑定。