# Fluent Python: pp 215 - 225

### 9.7 Python的私有属性和“受保护的”属性

- 名称改写 name mangling
- 如果前面加两个下划线，比如`__mood`，Python 会把属性名存入实例的`__dict__`属性中，且前面会加上一个下划线和类名
    - 比如Dog类下的 `__mood` => `_Dog_mood`
    - Dog的子类 Beagle下的 `__mood` => `_Beagle_mood`
- 有些人会约定俗成用一个下划线编写“受保护”的属性，比如`self._x`

### 9.8 使用`__slots__` 类属性节省空间

- 用了之后：解释器在元组中存储实例，而不用字典；定义` __slots__ `属性之后，实例不能再有` __slots__ `中所列名称之外 的其他属性

- 适合：数百万个属性不多的实例; 处理列表数据时，例如模式固定的数据库记录

- 例子

    - ```python
        class Vector2d:
          __slots__ = ('__x', '__y')
          typecode = 'd'
          # omit
        ```

- 注意
    - 每个子类都要定义，解释器会忽略继承的`__slots__`属性
    - 只能拥有`__slots__` 列出的属性
    - 要成为弱引用的目标需要加`__weakref__`

### 9.9 覆盖类属性

- 把类的属性比如`Vector2d.typecode`在实例中改了的话，以后这个实例用`self.typecode` 就是改了之后的值
- 修改类的属性可以通过继承 然后定制类的数据属性

